# Notion 英単語解説ページ自動生成ツール

Notion のデータベースから単語リストを取得し、ChatGPT（GPT-4o）を利用して英語学習用のページを自動生成するPythonツールです。

## 主な機能

- Notion データベースからの英単語取得
- ChatGPT による詳細な解説生成
  - 品詞
  - 意味（簡潔な日本語訳）
  - 語源（50文字以内の簡潔な説明）
  - 例文（英文と日本語訳のペア）
  - 関連語（100文字以内の説明）
- Notion ページの自動作成
  - 見出しと段落を使用した構造化されたページレイアウト
  - 既存ページの自動削除と再作成
- ページ作成状態の管理

## システム要件

### 必要なパッケージ
```
python-dotenv==1.0.0
requests==2.31.0
openai==1.3.7
notion-client==2.2.1
```

### 環境変数
```
NOTION_TOKEN=your_notion_api_token
NOTION_DATABASE_ID=your_database_id
OPENAI_API_KEY=your_openai_api_key
```

### Notion データベース構造

データベースには以下のプロパティが必要です：

1. **単語 (テキスト)**
   - 解説対象の英単語
   - 例: "implicit", "realm", "concept"

2. **ページ作成 (チェックボックス)**
   - ページ作成状態の管理
   - `false`: 未作成
   - `true`: 作成済み

## 処理フロー

1. **データベースのクエリ**
   - 「ページ作成フラグ」が false の単語を取得

2. **ChatGPTによる解説生成**
   - 取得した単語ごとに以下の形式で解説を生成：
     - 品詞: 単語の品詞
     - 意味: 簡潔な日本語訳
     - 語源: 語源の説明（50文字以内）
     - 例文: 英文と日本語訳のペア
     - 関連語: 関連する単語や表現（100文字以内）

3. **Notion ページの作成**
   - 既存のページがある場合は削除
   - 新規ページを作成：
     - 見出し1: 単語と品詞
     - 見出し2: 各セクション（意味、語源、例文、関連語）
     - 段落: 各セクションの内容
   - ページ作成フラグを true に更新

## 使用方法

1. 必要なパッケージをインストール：
   ```bash
   pip install -r requirements.txt
   ```

2. 環境変数を設定：
   - `.env` ファイルを作成し、必要な環境変数を設定

3. スクリプトを実行：
   ```bash
   python notion_english_page_creator.py
   ```
